<div class="header d-flex align-items-center m-b-20">
  <button (click)="goBack()" mat-mini-fab class="bg-primary text-white">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h2 class="m-l-12">Application Detail </h2>
</div>
<mat-card class="cardWithShadow">
  <mat-card-content>
    <mat-card-title class="m-b-16"> Application Status </mat-card-title>
    <div class="d-flex align-items-center justify-content-between gap-6">
      <div class="d-flex align-items-center justify-content-between gap-6">
        <label>Current Status:</label>
        <span class="status rounded-pill f-w-500 p-x-10 p-y-2 f-s-12" [ngClass]="{
          'bg-light-secondary text-secondary': jobDetails?.status?.toLowerCase() === 'hired',
          'bg-light-warning text-warning': jobDetails?.status?.toLowerCase() === 'pending',
          'bg-light-error  text-error ': jobDetails?.status?.toLowerCase() === 'rejected',
          'bg-light-success  text-success': jobDetails?.status?.toLowerCase() === 'shortlisted'
        }">{{ jobDetails?.status || '-' }}
        </span>
      </div>
    </div>
  </mat-card-content>
</mat-card>
<div class="row">
  <div class="col-lg-8">
    <mat-card>
      <mat-card-content>
        <div class="m-b-16">
          <span style="font-size: 1.5em; font-weight: 500;">User Detail</span>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-6 m-b-16">
            <strong>Name:</strong> {{ userProfile?.first_name }} {{ userProfile?.last_name }}
          </div>
          <div class="col-md-4 col-sm-6">
            <strong>Email:</strong> {{ user?.email }}
          </div>
          <div class="col-md-4 col-sm-6">
            <strong>Mobile:</strong> {{ userProfile?.mobile || 'N/A' }}
          </div>
          <div class="col-md-4 col-sm-6 ">
            <strong>DOB:</strong> {{ userProfile?.dob ? (userProfile.dob | date:'mediumDate') : 'N/A' }}
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        <div class="row w-100 justify-content-between align-items-center">
          <div class="col-lg-12">
            <h2 class="m-b-0">{{ jobDetails?.job?.title }}</h2>
            <p class="m-t-6 m-b-0">{{ jobDetails?.job?.employer }}</p>
            <p class="m-t-4 m-b-0 d-flex gap-2 align-items-center">
              <i-tabler name="map-pin" class="icon-18 caption-icon"></i-tabler>
              {{ jobDetails?.job?.address }}
            </p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        <div class="row">
          <div class="col-lg-12 m-b-10">
            <div class="row m-b-20">
              <div class="col-lg-3"><strong>Assignment</strong></div>
              <div class="col-lg-8">{{ jobDetails?.job?.assignment_duration }}</div>
            </div>
            <div class="row m-b-20">
              <div class="col-lg-3"><strong>Short Description</strong></div>
              <div class="col-lg-8">{{ jobDetails?.job?.short_description }}</div>
            </div>
            <div class="row m-b-20">
              <div class="col-lg-3"><strong>Full Description</strong></div>
              <div class="col-lg-8">{{ jobDetails?.job?.full_description }}</div>
            </div>
            <div class="row m-b-20">
              <div class="col-lg-3"><strong>Application Instruction</strong></div>
              <div class="col-lg-8"> {{ jobDetails?.job?.application_instruction }}</div>
            </div>
            <div class="row m-b-20">
              <div class="col-lg-3"><strong>Required Skills</strong></div>
              <div class="col-lg-8">
                <div class="d-flex flex-wrap gap-6">
                  <button mat-stroked-button color="primary" *ngFor="let skill of formattedSkills">
                    {{ skill }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        <h4 class="m-b-10">Admin Comment</h4>{{ jobDetails?.comments}}
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-lg-4">
    <mat-card>
      <img mat-card-image [src]="jobDetails?.job?.featured_image" alt="Job Image" height="250" width="390">
      <mat-card-content>
        <div class="row">
          <div class="col-lg-12 m-b-16">
            <strong class="m-r-6">Employment Type:</strong> {{ jobDetails?.job?.job_type }}
          </div>
          <div class="col-lg-12 m-b-16">
            <strong class="m-r-6">Salary:</strong> {{ jobDetails?.job?.start_salary | currency }}
          </div>
          <div class="col-lg-12 m-b-16">
            <strong class="m-r-6">Deadline:</strong> {{ jobDetails?.job?.deadline | date:'mediumDate' }}
          </div>
          <div class="col-lg-12 m-b-16">
            <strong class="m-r-6">Experience:</strong> {{ jobDetails?.job?.required_experience }} years
          </div>
          <div class="col-lg-12 m-b-16">
            <strong class="m-r-6">Posted on:</strong> <span>{{ jobDetails?.job?.posted_date ?
              (jobDetails?.job?.posted_date |
              date:'mediumDate') : '-' }}</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
