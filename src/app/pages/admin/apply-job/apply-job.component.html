<div class="container">
  <div class="header d-flex align-items-center m-b-10">
  </div>
  <div class="d-flex justify-content-between p-x-20 align-items-center">
    <h2 class="m-l-12 m-t-20 m-b-20">Apply for Job</h2>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <mat-card>
        <div class="model-scroll">
          <mat-card-content>
            <form class="profile-form" [formGroup]="userDetailsForm">
              <div class="row">
                <div class="col-lg-6 m-b-20">
                  <mat-form-field appearance="outline" class="w-100 m-b-10">
                    <mat-label>Experience</mat-label>
                    <input matInput placeholder="Enter Experience" formControlName="work_experiences" />
                    <mat-error *ngIf="userDetailsForm.get('work_experiences')?.hasError('required')">Experience is
                      required.</mat-error>
                    <mat-error *ngIf="userDetailsForm.get('work_experiences')?.hasError('maxlength')">Please enter valid
                      experience.</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-6 m-b-20">
                  <mat-form-field appearance="outline" class="w-100 m-b-10">
                    <mat-label>Additional Information </mat-label>
                    <input matInput placeholder="Additional Information" formControlName="additional_info" />
                    <mat-error *ngIf="userDetailsForm.get('additional_info')?.hasError('required')">Additional
                      Information
                      is required.</mat-error>
                    <mat-error *ngIf="userDetailsForm.get('additional_info')?.hasError('maxlength')">Additional
                      Information
                      cannot exceed 500 characters.</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-6 m-b-20">
                  <mat-form-field appearance="outline" class="w-100 m-b-10">
                    <mat-label>Comments</mat-label>
                    <textarea matInput placeholder="Enter Comments" formControlName="comments" rows="6"></textarea>
                    <mat-error *ngIf="userDetailsForm.get('comments')?.hasError('required')">Comment is
                      required.</mat-error>
                    <mat-error *ngIf="userDetailsForm.get('comments')?.hasError('maxlength')">Comment cannot exceed 500
                      characters.</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-6 m-b-20">
                  <mat-form-field appearance="outline" class="w-100 m-b-10">
                    <mat-label>Description</mat-label>
                    <textarea matInput placeholder="Enter Description" formControlName="description"
                      rows="6"></textarea>
                    <mat-error *ngIf="userDetailsForm.get('description')?.hasError('required')">Description is
                      required.</mat-error>
                    <mat-error *ngIf="userDetailsForm.get('description')?.hasError('maxlength')">Description cannot
                      exceed
                      500 characters.</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-12 m-b-20">
                  <div class="upload-box m-b-20" id="uploadBox">
                    <p>Upload CV</p>
                    <input type="file" id="fileInput" (change)="onFileChange($event, 'cv_path')" accept=".pdf, .doc" />
                    <div *ngIf="fileError" class="error">{{ fileError }}</div>
                  </div>
                </div>
                <div class="col-lg-12 m-b-20" *ngIf="uploadedFileName">
                  <div class="m-b-16">
                    <h5>Upload CV:</h5>
                    <div class="d-flex align-items-center gap-6">
                      {{ uploadedFileName }}
                      <button (click)="deleteFile('cv_path', $event)" mat-mini-fab
                        class="bg-error text-white custom-btn">
                        <i-tabler name="x" class="close-icon" style="width: 14px; height: 14px"></i-tabler>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-lg-12 m-b-20">
                  <div class="upload-box m-b-20" id="uploadBox">
                    <p>Upload Certification</p>
                    <input type="file" id="fileInput" (change)="onFileChange($event, 'courses_and_certification')"
                      multiple accept=".pdf, .doc" />
                  </div>
                  <div *ngIf="certificationFiles.length > 0">
                    <h5>Selected Files:</h5>
                    <ul>
                      <li *ngFor="let file of certificationFiles; let i = index">
                        <div class="d-flex gap-6 m-b-6">
                          {{ file.name }}
                          <button (click)="
                        deleteFile('courses_and_certification', $event, i)
                      " mat-mini-fab class="bg-error text-white custom-btn">
                            <i-tabler name="x" class="close-icon" style="width: 14px; height: 14px"></i-tabler>
                          </button>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-end mt-4">
                <button mat-flat-button color="primary" [disabled]="userDetailsForm.invalid || !fileUploaded"
                  (click)="Submit()">
                  Submit
                </button>
              </div>
            </form>
          </mat-card-content>
        </div>
      </mat-card>
    </div>
  </div>
</div>
