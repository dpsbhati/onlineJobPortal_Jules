<!-- <div>
  <button (click)="navigate()" class="button">Back</button>
</div> -->
<div class="job-list">
  <h1>Job Postings</h1>
  <div class="user-actions">
    <button (click)="navigateToUserProfile()" class="btn btn-info user-profile-button">
      {{ isAdmin() ? 'Admin Profile' : 'User Profile' }}
    </button>
    <button (click)="logout()" class="btn btn-danger logout-button">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </div>
  
  <div class="filters-container">
    <!-- Filters Section -->
    <div class="filters">
      <!-- Filter by Job Type -->
      <select [(ngModel)]="filters.job_type" (change)="onSearch()" class="filter-select">
        <option value="">All Job Types</option>
        <option value="full-time">Full-Time</option>
        <option value="part-time">Part-Time</option>
        <option value="flexible">Flexible</option>
      </select>
  
      <!-- Filter by Deadline -->
      
      <div class="input-icon-container">
        <input
          type="text"
          name="deadlineDatePicker"
          class="form-control search-input"
          placeholder="Select Deadline"
          [(ngModel)]="filters.deadline"
          (click)="openDatePicker('deadlineDatePicker')"
          readonly
        />
        <i class="fa fa-calendar input-icon"></i>
      </div>
      
      
      


     <!-- Salary Range -->
     <div class="filter-item">
      <ngx-slider
        [(value)]="salaryRange.min"
        [(highValue)]="salaryRange.max"
        [options]="salarySliderOptions"
        class="salary-slider"
      ></ngx-slider>
      <button (click)="onSalaryRangeChange()">Apply Range</button>
    </div>
 
 
  
      <!-- Salary Range
      <input
        type="number"
        [(ngModel)]="filters.start_salary"
        (change)="onSearch()"
        placeholder="Enter Start Salary"
        class="search-input"
       
      />
      <input
        type="number"
        [(ngModel)]="filters.end_salary"
        (change)="onSearch()"
        placeholder="Enter End Salary"
        class="search-input"
       
      /> -->
    </div>
  
  </div>
  
  <!-- Search Section -->
  <div class="search-bar">
    <input
      type="text"
      [(ngModel)]="filters.all"
      placeholder="Search"
      class="search-input"
      (keyup.enter)="onSearch()"
    />
    <button type="button" class="btn btn-primary" (click)="onSearch()">Search</button>
    <button type="button" class="btn btn-secondary ms-2" (click)="clearSearch()">Clear</button>
  </div>
  

  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Employer</th>
        <th>Job Type</th>
        <!-- <th>Qualifications</th> -->
        <!-- <th>Skills Required</th> -->
        <th>Published Date</th>
        <th>Deadline</th>
        <th>Start Salary</th>
        <th>End Salary</th>
        <th *ngIf="isAdmin()">Job Post</th>
        <!-- <th>Work Type</th> -->
        <th>Country</th>
        <th>Actions</th>

        <!-- <th>Address</th> -->
        <!-- <th>Assignment Duration</th> -->
        <!-- <th>Featured Image</th> -->
        <!-- <th>Short Description</th> -->
        <!-- <th>Full Description</th> -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let job of jobPostingList">
        <td>{{ job.title }}</td>
        <td>{{ job.employer }}</td>
        <td>{{ job.job_type }}</td>
        <!-- <td>{{ job.qualifications }}</td>
          <td>{{ job.skills_required }}</td> -->
        <td>{{ job.date_published | date: 'shortDate' }}</td>
        <td>{{ job.deadline | date: 'shortDate' }}</td>
        <td>{{ job.start_salary | number }}</td>
        <td>{{ job.end_salary | number }}</td>
        <td *ngIf="isAdmin()">{{job.jobpost_status}}</td>
        <!-- <td>{{ job.work_type }}</td> -->
        <td>{{ job.country_code == '0' ? 'N/A' : job.country_code}}</td>
        <td class="actions">
          <button (click)="viewJob(job.id)" class="action-button view-button">
            <i class="fas fa-eye"></i>
          </button>
          <button *ngIf="isAdmin()" (click)="editJob(job.id)" class="action-button edit-button">
            <i class="fas fa-edit"></i>
          </button>
          <button *ngIf="isAdmin()" (click)="deleteJob(job.id)" class="action-button delete-button">
            <i class="fas fa-trash-alt"></i>
          </button>
          <button *ngIf="isAdmin()" (click)="viewJobApplications(job.id)" class="action-button applications-button" title="View Applications">
            <i class="fas fa-users"></i>
          </button>
        </td>

      </tr>
    </tbody>
  </table>

  <p *ngIf="!jobPostingList.length" class="error">{{ errorMessage || 'No records found' }}</p>

   <!-- Pagination -->
   <div class="pagination-container" *ngIf="jobPostingList.length">
    <button
      class="pagination-button"
      (click)="onPageChange(pageConfig.curPage - 1)"
      [disabled]="pageConfig.curPage === 1"
    >
      Previous
    </button>
    <button
      *ngFor="let page of paginationArray"
      (click)="onPageChange(page)"
      [class.active]="page === pageConfig.curPage"
    >
      {{ page }}
    </button>
    <button
      class="pagination-button"
      (click)="onPageChange(pageConfig.curPage + 1)"
      [disabled]="pageConfig.curPage === totalPages"
    >
      Next
    </button>
  </div>

</div>
         
  <div class="create-job-container" >
    <button *ngIf="isAdmin()" (click)="navigateToCreateJob()" class="create-job-button">Create Job</button>
    <button *ngIf="isApplicant()" (click)="navigateToApplicantList()" class="btn btn-primary">View Applications</button>
  </div>
  