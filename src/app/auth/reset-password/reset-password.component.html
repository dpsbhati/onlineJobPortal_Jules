<div class="reset-password-container">
    <h1 class="title">Reset Password</h1>

    <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()">
        <div class="form-group">
            <label for="password">
                New Password<span class="required-mark">*</span>
            </label>
            <div class="password-field">
                <input
                    [type]="showNewPassword ? 'text' : 'password'"
                    id="password"
                    class="form-input"
                    placeholder="Enter new password"
                    formControlName="newPassword"
                    required
                />
                <button
                    type="button"
                    class="eye-icon"
                    (click)="toggleNewPasswordVisibility()"
                >
                    <i [class]="showNewPassword ? 'fas fa-eye' : 'fas fa-eye-slash'"></i>
                </button>
            </div>
            <div class="error-message" *ngIf="resetPasswordForm.get('newPassword')?.touched">
                <small *ngIf="resetPasswordForm.get('newPassword')?.errors?.['required']">Password is required</small>
                <small *ngIf="resetPasswordForm.get('newPassword')?.errors?.['minlength']">Password must be at least 8 characters</small>
            </div>
        </div>

        <div class="form-group">
            <label for="confirmPassword">
                Confirm Password<span class="required-mark">*</span>
            </label>
            <div class="password-field">
                <input
                    [type]="showConfirmPassword ? 'text' : 'password'"
                    id="confirmPassword"
                    class="form-input"
                    placeholder="Confirm your password"
                    formControlName="passwordConfirm"
                    required
                />
                <button
                    type="button"
                    class="eye-icon"
                    (click)="toggleConfirmPasswordVisibility()"
                >
                    <i [class]="showConfirmPassword ? 'fas fa-eye' : 'fas fa-eye-slash'"></i>
                </button>
            </div>
            <div class="error-message" *ngIf="resetPasswordForm.get('passwordConfirm')?.touched">
                <small *ngIf="resetPasswordForm.get('passwordConfirm')?.errors?.['required']">Confirm password is required</small>
                <small *ngIf="resetPasswordForm.hasError('mustMatch') && !resetPasswordForm.get('passwordConfirm')?.errors?.['required']">
                    Passwords must match
                </small>
            </div>
        </div>

        <div class="button-group">
            <button 
                type="submit" 
                class="submit-button"
                [disabled]="resetPasswordForm.invalid || isSubmitting"
            >
                Reset Password
            </button>
        </div>
    </form>

    <div class="alert-container" *ngIf="showAlert">
        <div *ngIf="alert?.type === 'success'" class="alert alert-success">
            {{ alert.message }}
        </div>
        <div *ngIf="alert?.type === 'error'" class="alert alert-error">
            {{ alert.message }}
        </div>
    </div>
</div>